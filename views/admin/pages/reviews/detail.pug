extends ../../layouts/default

block content
  style.
    .review-detail { padding: 2rem; background: #f9fafc; font-family: "Poppins", sans-serif; }
    .card {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
      padding: 1.5rem 2rem;
      margin-bottom: 1.5rem;
    }
    .reply { background: #f3f4f6; border-radius: 8px; padding: 1rem; margin-bottom: 1rem; }
    .btn-send {
      background-color: #007bff; color: white;
      border: none; border-radius: 8px;
      padding: 8px 16px; font-weight: 500;
    }

  .review-detail
    h3(style="margin-bottom:1rem") Chi tiết đánh giá
    .card
      .flex(style="display:flex;align-items:center;gap:16px")
        img(src=review.thumbnail, alt="Ảnh sản phẩm", style="width:100px;height:100px;border-radius:12px;object-fit:cover")
        .info
          h4= review.productTitle
          p(style="margin:4px 0;color:#555") Đánh giá: #{'★'.repeat(review.rating)}
          p(style="margin:4px 0;color:#777") Gửi lúc: #{review.createdAt.toLocaleString()}
      hr
      p(style="margin-top:1rem;font-size:15px")= review.content

    .card
      h4(style="margin-bottom:1rem") Phản hồi của quản trị
      if review.replies.length
        each rep in review.replies
          .reply
            p(style="margin:0;color:#111") #{rep.content}
            small(style="color:#666") #{rep.created_at.toLocaleString()}
      else
        p(style="color:#999") Chưa có phản hồi.

      form(action="/admin/reviews/reply", method="POST", style="margin-top:1rem")
        input(type="hidden", name="reviewId", value=review.id)
        textarea(name="content", placeholder="Nhập phản hồi...", style="width:100%;min-height:80px;padding:8px;border-radius:8px;border:1px solid #ddd;margin-bottom:10px")
        button.btn-send(type="submit") Gửi phản hồi
